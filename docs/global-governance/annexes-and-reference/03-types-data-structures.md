# Chapter 3: Types (Data Structures)

Coming from our understanding of [Client Libraries (API Wrappers)](02_client_libraries__api_wrappers__.md), we now need a way to organize the information these libraries handle.  Imagine you're receiving data about an ESR from JIRA.  This data might include the summary, description, status, priority, and more.  How do you store and use this information in a consistent and organized way? That's where types, also known as data structures, come in.

## What are Types (Data Structures)?

Types are like blueprints for organizing data. They define what kind of information an object can hold and how that information is structured.  Think of it like a form with labeled fields.  Each field has a specific purpose and can hold a certain type of data (e.g., text, number, date).

## Example: The `Types::ESR` Type

Let's look at the `Types::ESR` type, which is used to represent an [ESR (Engineering Support Request)](01_esr__engineering_support_request__.md).

```ruby
# File: types.rb (simplified)
module Types
  class ESR < T::Struct
    const :key, String
    const :summary, String
    const :status, String
    # ... other fields ...
  end
end
```

This code defines a type called `ESR` within the `Types` module.  It has fields like `key` (a unique identifier), `summary` (a short description), and `status` (e.g., "Open," "Closed").  Each field is associated with a specific data type (in this case, `String`).

## Using the `Types::ESR` Type

Now, let's see how we can use this type to store information about an ESR.

```ruby
# Example usage
esr = Types::ESR.new(key: "ESR-456", summary: "Website is down", status: "Open")

puts esr.key # Output: ESR-456
puts esr.summary # Output: Website is down
puts esr.status # Output: Open
```

This code creates a new `ESR` object and assigns values to its fields.  We can then access these values using the dot notation (e.g., `esr.key`).

## Other Important Types

The `HMS-ESR Library` uses several other types to represent different kinds of data:

* **`Types::LiveModeEvent`:**  Used by the [Live Mode Manager (Real-time Event Monitoring)](07_live_mode_manager__real_time_event_monitoring__.md) to represent real-time events, such as new ESRs being created or updates to existing ESRs.
* **`Types::SidekiqJob`:** Used by the [SidekiqMonitor (Background Job Monitoring)](08_sidekiqmonitor__background_job_monitoring__.md) to represent background jobs.
* **`Types::JobAlert`:** Also used by the [SidekiqMonitor (Background Job Monitoring)](08_sidekiqmonitor__background_job_monitoring__.md) to represent alerts about potential issues with background jobs.
* **`Types::JiraContributor`:** Used by the [ContributorKnowledgeBase (Expertise Tracking)](09_contributorknowledgebase__expertise_tracking__.md) to store information about contributors.

You'll learn more about these types in their respective chapters.

## Internal Implementation (Simplified)

When a [Client Library (API Wrappers)](02_client_libraries__api_wrappers__.md) receives data from an external service, it uses these types to organize the data.

```mermaid
sequenceDiagram
    participant JIRA API
    participant JIRA Client Library
    participant Types::ESR

    JIRA API-->>JIRA Client Library:  ESR data (JSON)
    JIRA Client Library->>Types::ESR: Create new ESR object with data
    JIRA Client Library-->>Your Code: Returns Types::ESR object
```

The client library takes the raw data (often in JSON format) and uses it to create a new object of the appropriate type.  This structured object is then returned to your code, making it easier to work with the data.

## Code Example: Parsing JIRA Data

```ruby
# File: jira_client.rb (simplified)
module JiraClient
  def self.get_esr(key:)
    # ... (Code to fetch ESR data from JIRA API) ...
    raw_data = # ... (Assume this is the raw JSON data from JIRA) ...

    Types::ESR.new(
      key: raw_data['key'],
      summary: raw_data['fields']['summary'],
      status: raw_data['fields']['status']['name'],
      # ... other fields ...
    )
  end
end
```

This simplified example shows how the `JiraClient` might use the `Types::ESR` type to parse data received from the JIRA API.

## Conclusion

In this chapter, we learned about types (data structures) and how they are used to organize and represent data within the `HMS-ESR Library`.  We saw examples of the `Types::ESR` type and how it's used to store information about ESRs.  In the next chapter, we'll explore the [AsyncProcessor (Background Task Management)](04_asyncprocessor__background_task_management__.md), which uses these types to manage background tasks.


---

Generated by [AI Codebase Knowledge Builder](https://github.com/The-Pocket/Tutorial-Codebase-Knowledge)